# Use pdflatex for PDF output
$pdf_mode = 1;

# Specify the pdflatex command
$pdflatex = 'pdflatex %O %S';

# Use bibtex for bibliography
$bibtex_use = 2;

# Custom dependency and rule for running pdflatex enough times
add_cus_dep('tex', 'pdf', 0, 'pdflatex');
sub pdflatex {
    system("pdflatex $_[0].tex");
    system("bibtex $_[0]");
    system("pdflatex $_[0].tex");
    system("pdflatex $_[0].tex");
}

# Clean up additional files generated by Bibtex and pdflatex
# (Adjust the extensions as needed for your project)
push @generated_exts, "aux", "bbl", "blg", "log", "toc", "lof", "lot", "out";
